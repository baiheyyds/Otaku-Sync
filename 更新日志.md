# 项目版本更新记录（Changelog）

## v2.3.2（2025-07-17）

- 优化品牌信息补全逻辑，优先使用 Bangumi 数据，DLsite/Getchu 作为补充来源。
- Bangumi 抓取字段的多名称映射统一由 `field_aliases.json` 管理，提升字段兼容性与维护效率。

## v2.3.1（2025-07-16）

- 新增品牌数据库信息全自动更新脚本 `Update_Brand_Info`。
- 新增角色信息字段自动补全脚本 `fill_missing_character_fields.py`。
- 增强 `bangumi_client` 模块，支持游戏条目角色与声优信息的自动补全与更新。
- 优化 Bangumi 搜索逻辑，采用手动关键词输入方式，显著提升搜索命中率。

## v2.3.0（2025-07-16）

- 新增人物信息自动补全脚本 `fill_missing_bangumi`。
- 游戏新建流程增加查重机制，支持跳过或更新已存在条目。

## v2.2.3（2025-07-13）

- 新增标签自动补全脚本 `auto_tag_completer`（需提供详情页链接）。
- DLsite/Getchu 搜索结果自动筛选，仅保留游戏类条目，提升搜索准确性。
- 优化品牌缓存机制，防止异常情况下缓存数据丢失，提升数据持久性。
- 缓存文件统一归类至 `cache` 目录，便于管理。

## v2.2.2（2025-07-12）

- 标签映射模块全面迁移为 JSON 格式，支持热更新，便于自动化维护。
- 更新 `utils/tag_mapping.py`，支持动态加载标签映射。
- 修正 `append_new_tags` 路径及写入格式，避免因文件类型错误导致数据异常。
- 抓取模块（如 `clients/dlsite_client.py`、`clients/ggbases_client.py`）适配 JSON 标签映射文件。

## v2.2.1（2025-07-11）

- 新增标签抓取时自动导入 DLsite 和 GGBases 标签模块。
- 标签映射字典拆分，支持手动补充映射，提升可维护性。
- 修复空字符串映射导致标签丢失的问题，确保标签完整性。
- 标签映射时统一大小写处理，避免匹配失败。
- DLsite/GGBases 标签分别映射后统一归类合并，完整写入 Notion。

## v2.2（2025-07-11）

- 新增冗余标签清理辅助模块，可独立执行。
- 新增最新通关游戏辅助模块，支持各品牌及全品牌最新记录。

## v2.1（2025-07-11）

- 支持关键词尾部 `-m` 参数，开启 GGBases 手动详情页选择模式。
- 重构 GGBases 搜索结果处理，修复标题与热度提取异常。
- 优化 GGBases 搜索结果统计与自动选取最高热度结果逻辑。
- 主程序 `main.py` 支持 GGBases 手动模式与详情页链接传递，确保数据同步准确。
- `game_processor.py` 增加参数支持，统一 GGBases 数据抓取入口，减少重复请求。

## v2.0（2025-07-10）

- DLsite 容量字段解析优化，GGBases 无容量时自动回退，保障容量数据完整。
- 适配新版 Getchu 品牌结构，完善品牌名称与官网链接抓取。
- 修正容量信息来源标注，避免误标。
- 增强多平台抓取容错与数据补全逻辑，提升数据完整性。

## v1.9（2025-07-09）

- 新增 DLsite 标签映射，支持原始标签中文翻译。
- 游戏标签统一标准化，确保 DLsite 与 GGBases 标签风格一致。
- 汇总并整合 GGBases 标签，与 DLsite 标签合并去重归类。
- Notion 同步时标签自动写入统一标准，减少冗余与歧义。
- 标签映射表独立配置，便于维护与扩展。

## v1.8（2025-07-03）

- DLsite 搜索结果新增游戏类型字段。

## v1.7（2025-06-29）

- 浏览器驱动复用，显著提升品牌官网与图标抓取效率。
- 优化 GGBases 热度筛选，自动选中热度最高结果，提升搜索准确率。
- Getchu 价格提取兼容多种展示格式，避免“未知”价格。
- 保持接口兼容性，增强日志输出，便于调试。

## v1.6（2025-06-28）

- GGBases 封面图抓取更健壮，失败时自动回退使用 Getchu 封面。
- 多模块共享 Selenium 驱动，节省系统资源。
- 品牌信息本地缓存，提升加载速度与稳定性。

## v1.5（2025-06-28）

- 修复 Getchu 品牌官网链接写入 Notion 的问题。
- 支持传入外部 WebDriver，避免重复创建浏览器进程，提升稳定性。

## v1.4（2025-06-28）

- Getchu 抓取模块优化，提升页面加载稳定性与异常处理能力。
- 搜索逻辑改进，兼容更多标题变体。
- 保持 Notion 写入流程兼容性。

## v1.3（2025-06-27）

- GGBasesClient 性能优化，代码结构重构。
- DLsite 搜索不满意时支持命令切换 Getchu 搜索。
- 提升 Getchu 搜索效率与结果提取准确性。
- 新增“资源链接”字段，写入 GGBases 详情页地址。
- 支持多标签字段写入，数据更全面。

## v1.2（2025-06-26）

- DLsite 抓取速度提升至原来的两倍以上。
- 引入 GGBases 标签补全机制，智能补充标签。
- 修复 DLsite 封面图地址问题，保证封面写入正确。
- 品牌信息补抓逻辑增强，官网与图标提取更稳定。

## v1.1（2025-06-23）

- Getchu 游戏详情页改用 requests 抓取，去除浏览器依赖，提升性能。
- Notion 品牌库自动创建缺失品牌，品牌同步更智能。

## v1.0（2025-06-22）

- 初版发布，支持 DLsite 游戏信息抓取及写入 Notion。
- 基础功能包括品牌识别、剧本、原画、声优抓取。
- 建立 Notion 写入基础框架。